<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<title>Create New User</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/cosmo/bootstrap.min.css" />
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-sm navbar-dark fixed" style="background-color: #222222; color: #f2f2f2;">
  <h3><a class="navbar-brand" th:href="@{'/'}">AMDOCS Bank</a></h3>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" th:href="@{'/new'}">Create New User</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" th:href="@{'/'}">Show All Users</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" th:href="@{'/acc'}">Show All Accounts</a>
      </li>    
    </ul>
  </div>  
</nav><br><br>
	<div align="center">
		<h1>Create New Account</h1>
		<br />
		<div class="col-sm-4">
			<form action="#" th:action="@{/acc/save}" th:object="${account}"
				method="post" onsubmit="validation()">

				<div alight="left">
					<tr>
						<td><input type="hidden" th:attr="name=accid"
							class="form-control" placeholder="Name of the User" th:value="${accountid}"/></td>
					</tr>
				</div>

				<div alight="left">
					<tr>
						<td><input type="hidden" th:attr="name=userid"
							class="form-control" placeholder="User Id" th:value="${id}"/></td>
					</tr>
				</div>

				<div alight="left">
					<tr>
						<label class="form-label">Branch Name</label>
						<td><input type="text" th:field="*{bname}" onkeyup="myFunction()"
							id="bname" class="form-control" placeholder="Branch Name" required/>
							<span id="brancherror" class="font-weight-bold"></span></td>
					</tr>
				</div>
				<div alight="left">
					<tr>
						<label class="form-label">Account Type (S/C)</label>
						<td><input type="text" th:field="*{atype}" onkeyup="myFunction1()"
							id="atype" class="form-control" placeholder="Account Type (S/C)" required/>
							<span id="typeerror" class="font-weight-bold"></span></td>
					</tr>
				</div>
				<div alight="left">
					<tr>
						<label class="form-label">Account Balance</label>
						<td><input type="text" th:field="*{abalance}" onkeyup="myFunction2()"
							id="abalance" class="form-control" placeholder="Account Balance" required/>
							<span id="balanceerror" class="font-weight-bold"></span></td>
					</tr>
				</div>
				<br>
				<tr>
					<td colspan="2"><button type="submit" class="btn btn-info">Save</button>
					</td>
				</tr>
				</table>
			</form>
		</div>
		<script type="text/javascript">
    
    function myFunction() {

    	var bname = document.getElementById('bname').value;
    	var branchcheck  = /^[A-Za-z0-9]{3,40}$/;
    	if (branchcheck.test(bname))
        {
          	document.getElementById('brancherror').innerHTML=" ";
        }
        else
        {
        	document.getElementById('brancherror').style.color="red";
          	document.getElementById('brancherror').innerHTML=" ** BranchName Should be between 3 to 40 charcter ";
        }
    }
    function myFunction1() {

    	var atype = document.getElementById('atype').value;
    	var typecheck  = /^[A-Z]{1}$/;
    	if (typecheck.test(atype))
        {
          	document.getElementById('typeerror').innerHTML=" ";
        }
        else
        {
        	document.getElementById('typeerror').style.color="red";
          	document.getElementById('typeerror').innerHTML=" ** Account type Should be of 1 charcter in capital ";
        }
    }

    function myFunction2() {

    	var abalance = document.getElementById('abalance').value;
    	var balancecheck  = /^(([0-9]{1,8})(\.[0-9]{1,2}))$/;
    	if (balancecheck.test(abalance))
        {
          	document.getElementById('balanceerror').innerHTML=" ";
        }
        else
        {
        	document.getElementById('balanceerror').style.color="red";
          	document.getElementById('balanceerror').innerHTML=" ** Account Balance should be in digits and precision after decimal point is 2 ";
        }
    }
    /*function validation()
    {
    	var bname = document.getElementById('bname').value;
    	var branchcheck  = /^[A-Za-z0-9]{3,40}$/;
    	if (branchcheck.test(bname))
        {
          	document.getElementById('brancherror').innerHTML=" ";
        }
        else
        {
        	document.getElementById('brancherror').style.color="red";
          	document.getElementById('brancherror').innerHTML=" ** BranchName Should be between 3 to 40 charcter ";
        }
    	
    	var atype = document.getElementById('atype').value;
    	var typecheck  = /^[A-Z]{1}$/;
    	if (typecheck.test(atype))
        {
          	document.getElementById('typeerror').innerHTML=" ";
        }
        else
        {
        	document.getElementById('typeerror').style.color="red";
          	document.getElementById('typeerror').innerHTML=" ** Account type Should be of 1 charcter in capital ";
        }
    	
    	var abalance = document.getElementById('abalance').value;
    	var balancecheck  = /^(([0-9]{1,8})(\.[0-9]{1,2}))$/;
    	if (balancecheck.test(abalance))
        {
          	document.getElementById('balanceerror').innerHTML=" ";
        }
        else
        {
        	document.getElementById('balanceerror').style.color="red";
          	document.getElementById('balanceerror').innerHTML=" ** Account Balance should be in digits and precision after decimal point is 2 ";
        }

      alert('Congratulations....Your form submitted successfully...!!!!')
    }*/

  </script>
</body>
</html>